---
import ServicePageLayout from '../layouts/ServicePageLayout.astro';
import solarData from '../../../public/api/pages/solar-fence.json';

const page = solarData;
const PHONE_LINK = 'tel:+972508585310';
const PHONE_DISPLAY = '050-858-5310';
const hero = (page.sections as any[]).find(s => s.type === 'hero');
const benefits = (page.sections as any[]).find(s => s.type === 'benefits');
const specs = (page.sections as any[]).find(s => s.type === 'specs');
const audience = (page.sections as any[]).find(s => s.type === 'target-audience');
const comparison = (page.sections as any[]).find(s => s.type === 'comparison-table');
const text = (page.sections as any[]).find(s => s.type === 'text');
const cta = (page.sections as any[]).find(s => s.type === 'cta');
---
<ServicePageLayout title={page.seo.title} description={page.seo.description} keywords={page.seo.keywords} canonical={page.seo.canonical} breadcrumbs={page.breadcrumbs} structuredData={page.structuredData}>
  <section class="py-12 md:py-20 bg-gradient-to-b from-primary/5 to-background">
    <div class="container"><div class="max-w-4xl mx-auto text-center">
      <div class="inline-flex items-center gap-2 bg-primary/10 text-primary px-4 py-2 rounded-full mb-6"><span class="font-bold">{hero?.badge}</span></div>
      <h1 class="text-3xl md:text-5xl font-black mb-6 text-balance">{page.h1}</h1>
      <p class="text-lg md:text-xl text-muted-foreground mb-8 text-pretty">{hero?.subtitle}</p>
      <a href={PHONE_LINK} class="btn-cta-glow inline-flex items-center gap-2 px-8 py-4 rounded-xl text-lg font-bold"><span>התקשר לייעוץ חינם - {PHONE_DISPLAY}</span></a>
    </div></div>
  </section>
  <!-- Intro Content -->
  <section class="py-8 md:py-10"><div class="container"><div class="max-w-4xl mx-auto">
    <p class="text-muted-foreground leading-relaxed mb-4 text-pretty">
      גדר חשמלית סולארית היא הפתרון האידיאלי למניעת נזקים חקלאיים מחיות בר בשטחים מרוחקים – כרמים, מטעים ומשקים ללא חיבור לרשת החשמל. המערכת פועלת באופן אוטונומי לחלוטין – פאנל סולארי טוען סוללה ייעודית שמספקת אנרגיה ל-Energizer למשך שבועות, גם בימי חורף מעוננים. יעילה נגד חזירי בר, שפני סלע ומזיקים נוספים.
    </p>
    <p class="text-muted-foreground leading-relaxed text-pretty">
      בישראל, עם למעלה מ-300 ימי שמש בשנה, המערכת הסולארית עובדת ביעילות מעולה. הצוות המקצועי שלנו מתאים את גודל הפאנל והסוללה לאורך הגדר ולצריכת האנרגיה הנדרשת, כך שתקבלו הגנה מלאה מפני חיות בר ללא כל תלות בתשתית חשמל חיצונית.
    </p>
  </div></div></section>

  {benefits && <section class="py-12 md:py-16"><div class="container"><div class="max-w-4xl mx-auto">
    <h2 class="text-2xl md:text-3xl font-bold mb-8 text-center">{benefits.h2}</h2>
    <div class="grid md:grid-cols-3 gap-6">{benefits.items?.map((item: any) => (
      <div class="card-forest rounded-2xl p-6 text-center hover:border-primary/50 transition-all duration-300">
        <h3 class="text-xl font-bold mb-3">{item.title}</h3><p class="text-muted-foreground text-pretty">{item.description}</p>
      </div>
    ))}</div>
  </div></div></section>}
  {specs && <section class="py-12 md:py-16 bg-muted/30"><div class="container"><div class="max-w-4xl mx-auto">
    <h2 class="text-2xl md:text-3xl font-bold mb-8 text-center">{specs.h2}</h2>
    <div class="grid md:grid-cols-2 gap-6 mb-8">{specs.groups?.map((group: any) => (
      <div class="bg-card p-6 rounded-2xl border border-border">
        <h3 class="text-xl font-bold mb-4 text-primary">{group.h3}</h3>
        <ul class="space-y-2 text-muted-foreground">{group.items?.map((item: any) => (<li class="flex items-start gap-2"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-primary mt-0.5 flex-shrink-0"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><path d="m9 11 3 3L22 4"/></svg><span>{item}</span></li>))}</ul>
      </div>
    ))}</div>
    <div class="bg-primary/5 border border-primary/20 rounded-xl p-6 text-center"><p class="text-muted-foreground leading-relaxed text-pretty">{specs.operatingNote}</p></div>
  </div></div></section>}
  {audience && <section class="py-12 md:py-16"><div class="container"><div class="max-w-4xl mx-auto">
    <h2 class="text-2xl md:text-3xl font-bold mb-8 text-center">{audience.h2}</h2>
    <div class="grid md:grid-cols-2 gap-6">{audience.items?.map((item: any) => (
      <div class="bg-card p-6 rounded-2xl border border-border"><h3 class="text-xl font-bold mb-3">{item.title}</h3><p class="text-muted-foreground">{item.description}</p></div>
    ))}</div>
  </div></div></section>}
  {comparison && <section class="py-12 md:py-16 bg-muted/30"><div class="container"><div class="max-w-4xl mx-auto">
    <h2 class="text-2xl md:text-3xl font-bold mb-8 text-center">{comparison.h2}</h2>
    <div class="overflow-x-auto"><table class="w-full border-collapse border border-border text-sm md:text-base">
      <thead class="bg-muted"><tr>{comparison.headers?.map((h: any) => (<th class="border border-border p-4 text-right font-bold">{h}</th>))}</tr></thead>
      <tbody>{comparison.rows?.map((row: any, i: number) => (<tr class={i % 2 === 1 ? 'bg-muted/50' : ''}>{row.map((cell: any) => (<td class="border border-border p-4">{cell}</td>))}</tr>))}</tbody>
    </table></div>
    <p class="text-sm text-primary mt-4 text-center font-semibold">{comparison.note}</p>
  </div></div></section>}
  {text && <section class="py-12 md:py-16"><div class="container"><div class="max-w-4xl mx-auto">
    <h2 class="text-2xl md:text-3xl font-bold mb-6 text-center">{text.h2}</h2>
    <p class="text-lg text-muted-foreground text-center leading-relaxed text-pretty">{text.content}</p>
  </div></div></section>}
  {cta && <section class="py-16 md:py-20 bg-primary text-primary-foreground"><div class="container"><div class="max-w-3xl mx-auto text-center">
    <h2 class="text-2xl md:text-4xl font-black mb-6">{cta.h2}</h2><p class="text-lg opacity-90 mb-8">{cta.content}</p>
    <a href={PHONE_LINK} class="inline-flex items-center gap-2 bg-white text-primary px-8 py-4 rounded-xl text-lg font-bold hover:bg-white/90 transition-colors"><span>התקשר - {PHONE_DISPLAY}</span></a>
  </div></div></section>}
  <!-- Contextual Content -->
  <section class="py-12 md:py-16"><div class="container"><div class="max-w-4xl mx-auto">
    <h2 class="text-2xl md:text-3xl font-bold mb-6 text-center">מידע נוסף על גדרות חשמליות</h2>
    <p class="text-muted-foreground leading-relaxed mb-4 text-pretty">
      גדר חשמלית סולארית היא חלק ממגוון הפתרונות שלנו. למדו על <a href="/installation" class="text-primary font-semibold hover:underline">תהליך ההתקנה המקצועי</a> שלנו, או בדקו <a href="/pricing" class="text-primary font-semibold hover:underline">כמה עולה גדר חשמלית</a> לשטח שלכם.
    </p>
    <p class="text-muted-foreground leading-relaxed mb-4 text-pretty">
      מחפשים פתרון לגינה ביתית? ראו את <a href="/home-solutions" class="text-primary font-semibold hover:underline">הפתרונות לבית פרטי</a>. לעומק טכני, קראו את <a href="/blog/electrical-fence-technology" class="text-primary font-semibold hover:underline">המפרט ההנדסי המלא של מערכות סולאריות</a>.
    </p>
    <p class="text-muted-foreground leading-relaxed text-pretty">
      אנחנו <a href="/service-areas" class="text-primary font-semibold hover:underline">מתקינים גדרות חשמליות בכל רחבי ישראל</a> – כולל אזורים מרוחקים שבהם דווקא הגדר הסולארית מתאימה ביותר.
    </p>
  </div></div></section>

  <!-- Internal Links -->
  <nav aria-label="דפים קשורים" class="py-12"><div class="container"><div class="max-w-4xl mx-auto">
    <h2 class="text-lg font-bold mb-4">עמודים קשורים:</h2>
    <div class="flex flex-wrap gap-4">{page.internalLinks.map((link: any) => (<a href={link.href} class="text-primary hover:underline">{link.label}</a>))}</div>
  </div></div></nav>
</ServicePageLayout>